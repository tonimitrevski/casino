(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=(a(39),a(40),a(15)),l=(a(41),a(9)),u=function(e){return e.categories.data},s=function(e){return e.categories.selected},m=a(4),f=a(12),d=function(e,t){return e===t?"navigation__nav__link active":"navigation__nav__link"},v=function(e){return e?"navigation__nav active":"navigation__nav"},g=function(e){return e?"hamburger hamburger--slider is-active":"hamburger hamburger--slider"},p=function(e,t){t(!e)},h=function(e){return{type:"SelectCategoryAction",payload:e}},b=Object(l.b)((function(e){return{categories:u(e),activeCategory:s(e)}}),(function(e){return Object(m.b)({selectCategory:h},e)}))((function(e){var t=e.categories,a=e.activeCategory,c=e.selectCategory,o=Object(n.useState)(!1),l=Object(i.a)(o,2),u=l[0],s=l[1];return r.a.createElement("header",{className:"Header"},r.a.createElement("div",{className:"Header__navigation-button"},r.a.createElement("button",{onClick:function(){return p(u,s)},className:g(u),type:"button"},r.a.createElement("span",{className:"hamburger-box"},r.a.createElement("span",{className:"hamburger-inner"})))),r.a.createElement("nav",{className:v(u)},t.map((function(e){return r.a.createElement(f.b,{to:"/"+e.key,onClick:function(){c(e.key)},key:e.key,className:d(a,e.key)},e.value)}))))})),y=a(2),k=(a(47),a(48),a(26)),E=a.n(k);a(53);function j(){return r.a.createElement("div",{className:"placeholder"},r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"rect1"}),r.a.createElement("div",{className:"rect2"}),r.a.createElement("div",{className:"rect3"}),r.a.createElement("div",{className:"rect4"}),r.a.createElement("div",{className:"rect5"})))}var O=function(e){return e.jackpots},w=(a(54),function(e){var t=e.type;return r.a.createElement("div",{className:"ribbon"},r.a.createElement("span",{className:"ribbon__label"},t))}),N=(a(55),function(e){var t=e.amount;return r.a.createElement("div",{className:"jackpot"},r.a.createElement("div",{className:"jackpot__container"},r.a.createElement("span",{className:"amount"},function(e){return new Intl.NumberFormat("en-UK",{style:"currency",currency:"GBP",minimumFractionDigits:2}).format(e)}(t))))});var _=Object(l.b)((function(e){return{jackpots:O(e)}}))((function(e){var t=e.game,a=e.jackpots;return r.a.createElement("div",{className:"Game"},r.a.createElement(E.a,{once:!0,offset:100,height:150,placeholder:r.a.createElement(j,null)},r.a.createElement("div",{className:"Game__container"},function(e){if(!e.categories.includes("new"))return"";return r.a.createElement(w,{type:"new"})}(t),r.a.createElement("img",{src:t.image,alt:t.name}),function(e,t){if(!e.hasOwnProperty(t.id))return"";return r.a.createElement(N,{amount:e[t.id].amount})}(a.data,t)),r.a.createElement("div",{className:"Game__play-button"})))})),C=a(27),x=a(28),G=a.n(x),A=a(18);a(60);function S(){var e=Object(C.a)(["\n    border: 5px solid;\n    border-color: #78bd1f;\n    border-bottom-color: transparent;\n"]);return S=function(){return e},e}var F=Object(A.css)(S()),P=function(e){var t=e.pending,a=Object(n.useState)(!0),c=Object(i.a)(a,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){setTimeout((function(){return l(t)}),1e3)}),[t]),r.a.createElement("div",{className:"loading"},r.a.createElement(G.a,{css:F,size:150,loading:o}))},z=a(22),J=a.n(z),B=a(30);var H=a(31),M=function e(){Object(H.a)(this,e)};function I(){return function(){var e=Object(B.a)(J.a.mark((function e(t){var a,n,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["https://nssw02zdf3.execute-api.us-east-1.amazonaws.com/games","https://nssw02zdf3.execute-api.us-east-1.amazonaws.com/jackpots"],e.next=3,Promise.all(a.map((function(e){return fetch(e)})));case 3:return n=e.sent,e.next=6,Promise.all(n.map((function(e){return e.json()})));case 6:r=e.sent,t({type:"FetchGamesAction",payload:r[0]}),t({type:"FetchJackpotAction",payload:T(r[1])}),t({type:"CacheGamesAction"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function T(e){for(var t=e.length,a=new M,n=0;n<t;n++)a[e[n].game]=e[n];return a}var W=a(32),D=["home","new","slots","jackpots","live","blackjack","roulette","table","poker"],K={data:[{key:"home",value:"Home"},{key:"new",value:"New Games"},{key:"slots",value:"Slots"},{key:"jackpots",value:"Jackpots"},{key:"live",value:"Live"},{key:"blackjack",value:"Blackjack"},{key:"roulette",value:"Roulette"},{key:"table",value:"Table"},{key:"poker",value:"Poker"},{key:"other",value:"Other"}],selected:"home"};function L(e,t){var a=e.jackpots.data;t.set("jackpots",e.games.data.filter((function(e){return a.hasOwnProperty(e.id)})))}function R(e,t){e.set("other",t.games.data.filter((function(e){for(var t=e.categories.length,a=0;a<t;a++)if(!D.includes(e.categories[a]))return!0;return!1})))}function U(e,t,a){e.set(t.key,a.games.data.filter((function(e){return e.categories.includes(t.key)})))}var $=new Map;function q(e){var t=e.categories.selected;return e.games.cache?{pending:!1,data:$.get(t),error:null,cache:!1}:function(e,t,a){a.clear();var n,r=Object(W.a)(e.categories.data);try{for(r.s();!(n=r.n()).done;){var c=n.value;"home"!==c.key?"jackpots"!==c.key?"other"!==c.key?U(a,c,e):R(a,e):L(e,a):a.set(c.key,e.games.data)}}catch(o){r.e(o)}finally{r.f()}return{pending:!1,data:a.get(t),error:null,cache:!1}}(e,t,$)}var Q=Object(l.b)((function(e){return{gameStore:q(e)}}),(function(e){return Object(m.b)({fetchGames:I},e)}))((function(e){var t=e.fetchGames,a=e.gameStore;return Object(n.useEffect)((function(){t()}),[t]),r.a.createElement("div",{className:"Main-Container"},r.a.createElement(P,{pending:a.pending}),function(e){for(var t=e.data.length,a=[],n=0;n<t;n++)a.push(r.a.createElement(_,{game:e.data[n],key:n}));return a}(a))}));function V(e){var t=e.categories,a=e.selectCategory,n=Object(y.g)().id;return t.some((function(e){return e.key===n}))?(a(n),r.a.createElement(Q,null)):r.a.createElement(y.a,{to:"home"})}var X=function(e){return{type:"SelectCategoryAction",payload:e}},Y=Object(l.b)((function(e){return{categories:u(e)}}),(function(e){return Object(m.b)({selectCategory:X},e)}))((function(e){var t=e.categories,a=e.selectCategory;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.b,{exact:!0,path:"/",render:function(){return r.a.createElement(y.a,{to:"/home"})}}),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/:id",children:r.a.createElement(V,{categories:t,selectCategory:a})})))}));function Z(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(b,null),r.a.createElement(Y,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(8),te={data:new M,error:null},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FetchJackpotAction":return Object(ee.a)(Object(ee.a)({},e),{},{data:t.payload});default:return e}},ne={data:[],pending:!0,error:null,cache:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FetchGamesAction":return Object(ee.a)(Object(ee.a)({},e),{},{pending:!1,data:t.payload,cache:!1});case"CacheGamesAction":return Object(ee.a)(Object(ee.a)({},e),{},{cache:!0});default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SelectCategoryAction":return Object(ee.a)(Object(ee.a)({},e),{},{selected:t.payload});default:return e}},oe=Object(m.c)({jackpots:ae,games:re,categories:ce}),ie=a(33),le=Object(m.d)(oe,Object(m.a)(ie.a));o.a.render(r.a.createElement(l.a,{store:le},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.eb8aee97.chunk.js.map